doctype 5
html
    head
        title= title
        link(rel='shortcut icon', type='image/png', href='javascripts/jasmine-1.3.1/jasmine_favicon.png')
        link(rel='stylesheet', type='text/css', href='javascripts/jasmine-1.3.1/jasmine.css')
        script(type='text/javascript', src='/javascripts/jasmine-1.3.1/jasmine.js')
        script(type='text/javascript', src='/javascripts/jasmine-1.3.1/jasmine-html.js')

        #commons
        link(rel='stylesheet', href='/stylesheets/style.css')
        script(src='/javascripts/ext-4.1.1a/ext-all-debug.js')
        link(rel='stylesheet', href='/javascripts/ext-4.1.1a/resources/css/ext-all-gray.css')

        script(type='text/javascript')
            window.__test_mode__ = true;

        #sources
        script(type='text/javascript', src='/javascripts/app.js')
        script(type='text/javascript', src='/javascripts/testsinit.js')

        #tests
        script(type='text/javascript', src='/javascripts/tests/appTests.js')

        script(type='text/javascript')
                var jasmineEnv = jasmine.getEnv();
                jasmineEnv.updateInterval = 1000;

                var htmlReporter = new jasmine.HtmlReporter();

                jasmineEnv.addReporter(htmlReporter);

                jasmineEnv.specFilter = function(spec) {
                return htmlReporter.specFilter(spec);
                };

                var currentWindowOnload = window.onload;

                function execJasmine() {
                jasmineEnv.execute();
                }
    body
